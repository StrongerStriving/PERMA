<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PERMA Profiler</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-color: #4a90e2;
            --background-color: #f0f4f8;
            --text-color: #333;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            box-sizing: border-box;
        }
        h1, h2, h3 {
            color: var(--primary-color);
        }
        h1 {
            margin-bottom: 5px;
        }
        h1 + p {
            font-style: italic;
            color: #555;
            margin-top: 0;
        }
        input[type="text"], input[type="date"] {
            width: 100%;
            padding: 10px;
            margin: 5px 0 20px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 10px 10px 10px 0;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #357abd;
        }
        .legend {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .question {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 15px;
            position: relative;
            padding-bottom: 40px; /* TƒÉng chi·ªÅu cao ƒë·ªÉ ch·ª©a ch√∫ th√≠ch */
        }
        .options {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            position: relative;
        }
        .option {
            flex: 1;
            text-align: center;
            margin: 0 2px;
            border: 2px solid #ddd;
            background-color: white;
            cursor: pointer;
            transition: background-color 0.3s, border-color 0.3s;
            border-radius: 4px;
            padding: 5px 0;
        }
        .option.selected {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        #results {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin-top: 20px;
        }
        #chart-container {
            margin-top: 20px;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            height: 400px;
        }
        .highlight {
            font-size: 1.2em;
            color: #e74c3c;
            font-weight: bold;
        }
        .label {
            position: absolute;
            bottom: 10px; /* ƒê·∫∑t ch√∫ th√≠ch ·ªü d∆∞·ªõi c√πng */
            font-size: 0.9em;
            color: var(--primary-color);
            width: 100%;
            text-align: center;
        }
        .label.left {
            left: 0;
            text-align: left;
        }
        .label.right {
            right: 0;
            text-align: right;
        }
        
        @media (max-width: 600px) {
            .option {
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <h1>PERMA Profiler</h1>
    <p>Phi√™n b·∫£n ti·∫øng Vi·ªát ƒë∆∞·ª£c ph√°t tri·ªÉn b·ªüi Trung t√¢m ChƒÉm s√≥c S·ª©c kh·ªèe Tinh th·∫ßn thu·ªôc h·ªá th·ªëng Y t·∫ø Vinmec </p>
    <p>PERMA Profiler l√† m·ªôt c√¥ng c·ª• ƒë√°nh gi√° s·ª©c kh·ªèe tinh th·∫ßn v√† h·∫°nh ph√∫c d·ª±a tr√™n l√Ω thuy·∫øt PERMA c·ªßa Martin Seligma, m·ªôt nh√† t√¢m l√Ω h·ªçc n·ªïi ti·∫øng trong lƒ©nh v·ª±c t√¢m l√Ω h·ªçc t√≠ch c·ª±c.</p>
    <p>Thang ƒëo c√≥ 15 c√¢u h·ªèi, c√≥ th·ªÉ ƒë∆∞·ª£c ho√†n th√†nh ch·ªâ trong 5 ph√∫t. Ch√∫ng ta h√£y c√πng l√†m th·ª≠ nghen ^^ </p>
    <p> Sau khi ho√†n th√†nh b√†i test, ch√∫ng t√¥i s·∫Ω c√≥ b·∫£n ph√¢n t√≠ch ƒë√°nh gi√° chi ti·∫øt, b·∫°n c√≥ th·ªÉ tho·∫£i m√°i chia s·∫ª v·ªõi b·∫°n b√®, ng∆∞·ªùi th√¢n, ƒë·ªìng nghi·ªáp v√†... s·∫øp c·ªßa m√¨nh :)".</p>

    <div>
        <label for="name">H·ªç t√™n:</label>
        <input type="text" id="name" placeholder="Nh·∫≠p h·ªç t√™n c·ªßa b·∫°n">
    </div>
    <div>
        <label for="date">Ng√†y l√†m test:</label>
        <input type="date" id="date">
    </div>

    <div class="legend">
        <h3>H√£y tr·∫£ l·ªùi c√°c c√¢u h·ªèi sau d·ª±a tr√™n c·∫£m nh·∫≠n c·ªßa b·∫°n:</h3>
    </div>

    <div id="questions"></div>

    <button onclick="calculateScore()">T√≠nh ƒëi·ªÉm</button>
    <div id="results"></div>
    <div id="chart-container">
        <canvas id="chart"></canvas>
        <p></p>
        <p>Trung t√¢m S·ª©c kh·ªèe Tinh Th·∫ßn thu·ªôc h·ªá th·ªëng y t·∫ø Vinmec r·∫•t vui v√¨ ƒë√£ c√πng b·∫°n ho√†n th√†nh mini-game H·∫°nh ph√∫c.üòä</p>
    <button onclick="window.location.href='https://www.vinmec.com/vie/co-so-y-te/trung-tam-cham-soc-suc-khoe-tinh-than-98706-vi-tam-ly';">
     N·∫øu b·∫°n ƒëang c·∫ßn t√¨m ng∆∞·ªùi ƒë·ªìng h√†nh tr√™n h√†nh tr√¨nh ki·∫øm t√¨m h·∫°nh ph√∫c, üëâ h√£y nh·∫•n v√†o ƒë√¢y nghen!
    </button>
    <p></p>
    </div>

    <script>
        const questions = [
           /*1*/ "B·∫°n c√≥ th∆∞·ªùng xuy√™n c·∫£m th·∫•y m√¨nh ƒëang ti·∫øn g·∫ßn h∆°n t·ªõi c√°c m·ª•c ti√™u c·ªßa m√¨nh?",
           /*2*/ "B·∫°n c√≥ th∆∞·ªùng xuy√™n b·ªã cu·ªën h√∫t ho·∫∑c ch√¨m ƒë·∫Øm v√†o nh·ªØng vi·ªác m√¨nh ƒëang l√†m?",
            /*3*/"Nh√¨n chung, b·∫°n c√≥ th∆∞·ªùng xuy√™n c·∫£m th·∫•y vui v·∫ª kh√¥ng?",
           /*4*/ "B·∫°n c√≥ th∆∞·ªùng xuy√™n ƒë·∫°t ƒë∆∞·ª£c c√°c m·ª•c ti√™u quan tr·ªçng m√† b·∫°n t·ª± ƒë·∫∑t ra cho m√¨nh?",
        /*5*/ "Nh√¨n chung, b·∫°n c√≥ s·ªëng m·ªôt cu·ªôc s·ªëng c√≥ √Ω nghƒ©a v√† m·ª•c ƒë√≠ch kh√¥ng? (N·∫øu c√≥ th√¨ ·ªü m·ª©c ƒë·ªô n√†o?)",
           /*6*/ "Khi b·∫°n c·∫ßn, b·∫°n c√≥ th∆∞·ªùng nh·∫≠n ƒë∆∞·ª£c s·ª± h·ªó tr·ª£ v√† gi√∫p ƒë·ª° c·ªßa ng∆∞·ªùi kh√°c kh√¥ng?",
           /*7*/ "Nh√¨n chung, b·∫°n c√≥ c·∫£m th·∫•y nh·ªØng g√¨ m√¨nh l√†m trong cu·ªôc ƒë·ªùi m√¨nh l√† c√≥ gi√° tr·ªã v√† x·ª©ng ƒë√°ng kh√¥ng? (N·∫øu c√≥ th√¨ ·ªü m·ª©c ƒë·ªô n√†o?)",
           /*8*/ "Nh√¨n chung, b·∫°n c√≥ c·∫£m th·∫•y ph·∫•n kh√≠ch v√† th√≠ch th√∫ v·ªõi nh·ªØng ƒëi·ªÅu xung quanh? (N·∫øu c√≥ th√¨ ·ªü m·ª©c ƒë·ªô n√†o?)",
           /*9*/"Nh√¨n chung, b·∫°n c√≥ th∆∞·ªùng xuy√™n c·∫£m th·∫•y t√≠ch c·ª±c kh√¥ng?",
           /*10*/"B·∫°n c√≥ th∆∞·ªùng xuy√™n c√≥ th·ªÉ x·ª≠ l√Ω h·∫øt c√°c tr√°ch nhi·ªám c·ªßa m√¨nh (c·∫£ trong c√¥ng vi·ªác v√† ·ªü gia ƒë√¨nh) kh√¥ng?",
          /*11*/"B·∫°n c√≥ th∆∞·ªùng xuy√™n c√≥ tr·∫£i nghi·ªám l√†m g√¨ ƒë√≥ m√¨nh th√≠ch v√† qu√™n kh√¥ng ƒë·ªÉ √Ω bao nhi√™u th·ªùi gian ƒë√£ tr√¥i qua?",
            /*12*/"B·∫°n c√≥ c·∫£m th·∫•y m√¨nh ƒëang ƒë∆∞·ª£c y√™u th∆∞∆°ng kh√¥ng? (N·∫øu c√≥ th√¨ ·ªü m·ª©c ƒë·ªô n√†o?)",
            /*13*/"B·∫°n c·∫£m th·∫•y m√¨nh c√≥ ƒë·ªãnh h∆∞·ªõng trong cu·ªôc s·ªëng ƒë·∫øn m·ª©c n√†o?",
            /*14*/"B·∫°n h√†i l√≤ng v·ªõi c√°c m·ªëi quan h·ªá c√° nh√¢n c·ªßa m√¨nh ƒë·∫øn m·ª©c n√†o?",
            /*15*/"Nh√¨n chung, b·∫°n h√†i l√≤ng ho·∫∑c m√£n nguy·ªán ho·∫∑c v·ªõi cu·ªôc s·ªëng c·ªßa m√¨nhh ƒë·∫øn m·ª©c n√†o?",
                  ];

        const labels = [
            "Kh√¥ng bao gi·ªù", "Kh√¥ng bao gi·ªù", "Kh√¥ng bao gi·ªù", "Kh√¥ng bao gi·ªù",
            
            "Ho√†n to√†n kh√¥ng", "Kh√¥ng bao gi·ªù", "Ho√†n to√†n kh√¥ng", "Ho√†n to√†n kh√¥ng",
            "Kh√¥ng bao gi·ªù", "Kh√¥ng bao gi·ªù", "Kh√¥ng bao gi·ªù",
            
            "Ho√†n to√†n kh√¥ng", "Ho√†n to√†n kh√¥ng", "Ho√†n to√†n kh√¥ng", "Ho√†n to√†n kh√¥ng", 
        ];

        const rightLabels = [
            "Lu√¥n lu√¥n", "Lu√¥n lu√¥n", "Lu√¥n lu√¥n", "Lu√¥n lu√¥n",
            
            "Ho√†n to√†n c√≥", "Lu√¥n lu√¥n", "Ho√†n to√†n c√≥", "Ho√†n to√†n c√≥",
            "Lu√¥n lu√¥n", "Lu√¥n lu√¥n", "Lu√¥n lu√¥n",
            
            "Ho√†n to√†n c√≥", "Ho√†n to√†n c√≥", "Ho√†n to√†n h√†i l√≤ng", "Ho√†n to√†n h√†i l√≤ng", 
        ];

        let chart;

        function initQuestions() {
            const questionsDiv = document.getElementById('questions');
            questions.forEach((q, index) => {
                questionsDiv.innerHTML += `
                    <div class="question">
                        <p><strong>${index + 1}.</strong> ${q}</p>
                        <div class="options">
                            ${[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map(value => `
                                <div class="option" onclick="selectOption(${index}, ${value})">${value}</div>
                            `).join('')}
                        </div>
                        <span class="label left">${labels[index]}</span>
                        <span class="label right">${rightLabels[index]}</span>
                    </div>
                `;
            });
        }

        function selectOption(questionIndex, value) {
            const options = document.querySelectorAll(`.question:nth-child(${questionIndex + 1}) .option`);
            options.forEach(option => option.classList.remove('selected'));
            options[value].classList.add('selected');
        }

        function calculateScore() {
            let scores = {
                P: 0, // Positive Emotion
                E: 0, // Engagement
                R: 0, // Relationships
                M: 0, // Meaning
                A: 0, // Accomplishment
         
            };

            // PERMA scoring based on provided questions
            scores.A = (getScore(0) + getScore(3) + getScore(9)) / 3;
            scores.E = (getScore(1) + getScore(7) + getScore(10)) / 3;
            scores.P = (getScore(2) + getScore(8) + getScore(14)) / 3;
            scores.M = (getScore(4) + getScore(6) + getScore(12)) / 3;
            scores.R = (getScore(5) + getScore(11) + getScore(13)) / 3;
    

            const results = {
                date: document.getElementById('date').value,
                name: document.getElementById('name').value,
                scores: scores
            };

            displayResults(results);
            saveResults(results);
            updateChart(results);
        }

        function getScore(index) {
            const selectedOption = document.querySelector(`.question:nth-child(${index + 1}) .option.selected`);
            return selectedOption ? parseInt(selectedOption.textContent) : 0;
        }

        function displayResults(results) {
            const permaAverage = ((results.scores.P + results.scores.E + results.scores.R + results.scores.M + results.scores.A) / 5).toFixed(2);
            const comparison = getComparison(permaAverage);

            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = `
                <h3>K·∫øt qu·∫£ PERMA Profiler:</h3>
                <p><strong>H·ªç t√™n:</strong> ${results.name}</p>
                <p><strong>Ng√†y l√†m test:</strong> ${results.date}</p>
                <p><strong>P - Positive Emotions (C·∫£m x√∫c t√≠ch c·ª±c):</strong> ${results.scores.P.toFixed(2)}<br>ƒê√°nh gi√° m·ª©c ƒë·ªô tr·∫£i nghi·ªám c√°c c·∫£m x√∫c t√≠ch c·ª±c nh∆∞ vui v·∫ª, h√†i l√≤ng, v√† l·∫°c quan trong cu·ªôc s·ªëng h√†ng ng√†y.</p>
                <p><strong>E - Engagement (S·ª± g·∫Øn k·∫øt):</strong> ${results.scores.E.toFixed(2)}<br>ƒêo l∆∞·ªùng m·ª©c ƒë·ªô tham gia v√† ƒë·∫Øm ch√¨m v√†o c√°c ho·∫°t ƒë·ªông, c√¥ng vi·ªác ho·∫∑c s·ªü th√≠ch, t·∫°o ra tr·∫°ng th√°i "flow" (d√≤ng ch·∫£y).</p>
                <p><strong>R - Relationships (M·ªëi quan h·ªá):</strong> ${results.scores.R.toFixed(2)}<br>ƒê√°nh gi√° ch·∫•t l∆∞·ª£ng v√† s·ª± h√†i l√≤ng trong c√°c m·ªëi quan h·ªá x√£ h·ªôi, bao g·ªìm gia ƒë√¨nh, b·∫°n b√® v√† ƒë·ªìng nghi·ªáp.</p>
                <p><strong>M - Meaning (√ù nghƒ©a):</strong> ${results.scores.M.toFixed(2)}<br>Xem x√©t c·∫£m gi√°c v·ªÅ m·ª•c ƒë√≠ch v√† √Ω nghƒ©a trong cu·ªôc s·ªëng, c≈©ng nh∆∞ c·∫£m gi√°c ƒë√≥ng g√≥p v√†o m·ªôt ƒëi·ªÅu g√¨ ƒë√≥ l·ªõn lao h∆°n b·∫£n th√¢n.</p>
                <p><strong>A - Accomplishment (Th√†nh t·ª±u):</strong> ${results.scores.A.toFixed(2)}<br>ƒê√°nh gi√° c·∫£m gi√°c v·ªÅ s·ª± ti·∫øn b·ªô, th√†nh c√¥ng v√† ho√†n th√†nh m·ª•c ti√™u trong cu·ªôc s·ªëng.</p>
                
                <p class="highlight"><strong>ƒêi·ªÉm PERMA t·ªïng h·ª£p:</strong> ${permaAverage}</p>
                <p>${comparison}</p>
            `;
        }

        function getComparison(permaAverage) {
            let comparison = "";
            if (permaAverage >= 8) {
                comparison = "B·∫°n ƒëang ·ªü m·ª©c h·∫°nh ph√∫c cao h∆°n so v·ªõi ƒëa s·ªë d√¢n s·ªë. Ti·∫øp t·ª•c duy tr√¨ v√† ph√°t tri·ªÉn c√°c kh√≠a c·∫°nh n√†y!";
            } else if (permaAverage >= 5) {
                comparison = "B·∫°n ƒëang ·ªü m·ª©c h·∫°nh ph√∫c trung b√¨nh. C√≥ th·ªÉ c·∫£i thi·ªán th√™m ·ªü m·ªôt s·ªë kh√≠a c·∫°nh ƒë·ªÉ tƒÉng c∆∞·ªùng h·∫°nh ph√∫c.";
            } else {
                comparison = "B·∫°n c√≥ th·ªÉ ƒëang g·∫∑p kh√≥ khƒÉn ·ªü m·ªôt s·ªë kh√≠a c·∫°nh. H√£y c√¢n nh·∫Øc t√¨m ki·∫øm s·ª± h·ªó tr·ª£ ƒë·ªÉ c·∫£i thi·ªán m·ª©c ƒë·ªô h·∫°nh ph√∫c.";
            }
            return comparison;
        }

        function saveResults(results) {
            let savedResults = JSON.parse(localStorage.getItem('permaResults')) || [];
            savedResults.push(results);
            localStorage.setItem('permaResults', JSON.stringify(savedResults));
        }

        function updateChart(results) {
            const ctx = document.getElementById('chart').getContext('2d');

            if (chart) {
                chart.destroy();
            }

            chart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['C·∫£m x√∫c t√≠ch c·ª±c (P)', 'S·ª± g·∫Øn k·∫øt (E)', 'M·ªëi quan h·ªá (R)', '√ù nghƒ©a (M)', 'Th√†nh t·ª±u (A)'],
                    datasets: [{
                        label: 'B√¥ng hoa h·∫°nh ph√∫c v√† ti·ªÅm nƒÉng trong cu·ªôc s·ªëng',
                        data: [results.scores.P, results.scores.E, results.scores.R, results.scores.M, results.scores.A],
                        backgroundColor: 'rgba(74, 144, 226, 0.2)',
                        borderColor: 'rgba(74, 144, 226, 1)',
                        pointBackgroundColor: 'rgba(74, 144, 226, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(74, 144, 226, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: {
                                display: true
                            },
                            suggestedMin: 0,
                            suggestedMax: 10
                        }             
                    }
                }
            });
        }

        function clearData() {
            localStorage.removeItem('permaResults');
            document.getElementById('results').innerHTML = '';
            if (chart) {
                chart.destroy();
            }
            document.querySelectorAll('.option').forEach(option => option.classList.remove('selected'));
        }

        initQuestions();
    </script>
</body>
</html>
